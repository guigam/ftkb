<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:f="http://java.sun.com/jsf/core">
    
    <body>
        
        <ui:composition template="./template.xhtml">
            
       

            <ui:define name="content">
            
                  <rich:panel>
                    <h:form>
                      <h:panelGrid columns="3">
                         <h:outputText value="Ajouter un Dirigent" styleClass="title1"/>
                         <h:commandLink value="Ajouter" action="#{redirect.redirect}">
                             <f:param name="outcome" value="ajouterDirigentPersonne"/>
                         </h:commandLink>
                         <h:panelGrid>
                             <rich:spacer width="20px"/>
                             <rich:messages  styleClass="globalMessages">
                                 <f:facet name="globalMessages">
                                     <h:graphicImage  value="/img/error.png"/>
                                 </f:facet>
                             </rich:messages>
                         </h:panelGrid>
                            
                         </h:panelGrid>
                      
                    <rich:separator width="100%" height="7px"/>
                    <rich:spacer height="10px"/>
           </h:form>
           <h:form>

    <h:panelGrid width="100%" >
        <h:panelGrid  width="100%">
            <h:panelGrid columns="2" >
          <h:panelGrid columns="2">
          <h:outputText value="Club"/>
          <rich:comboBox value="#{gsDirigent.leDirigent.leClubDirigent}" converter="ClubConverter" defaultLabel="Choisissez un CLub" >         
          	<f:selectItems var="club" itemLabel="#{club.nomClub}" value="#{gestionClubs.listeDesClubsItem}" />
          </rich:comboBox>        
          <h:outputText value="Date Debut"/>
          <rich:calendar value="#{gsDirigent.m_historique.dateDebut}" id="date" required="true" requiredMessage="date #{msgValidator.msgObligatoire}"/>
          <h:outputText value="Numero Licence"/>
          <h:inputText value="#{gsDirigent.m_historique.licence}" required="true" id="lic" requiredMessage="Licence #{msgValidator.msgObligatoire}">
              
          </h:inputText>
       
          
          
          <h:outputText value="C.I.N"/>
          <h:inputText value="#{gsDirigent.laPersonnes.cin}"/>
          </h:panelGrid>
          <h:commandButton value="valider" action="#{gsDirigent.saveDirigent}" />
                <a4j:commandButton value ="Reccherche" action="#{gsDirigent.listePersonneByCIN}" reRender="tt" style="margin-bottom: 0px" />
          </h:panelGrid>
          
              <a4j:outputPanel id="tt">

                  <a4j:outputPanel id="rien" rendered="${empty gsDirigent.lesPersonnes}">
                            <h:outputText value="Aucun Resultat" style="font-size:14;font-weight:bold;" />
                            <rich:separator height="5"/>
                  </a4j:outputPanel>



                  <a4j:outputPanel rendered="${not empty gsDirigent.lesPersonnes}"  id="tt2">
                      <h:outputText value=" Resultat" style="font-size:14;font-weight:bold;" />
                            <rich:separator height="5"/>
                            <rich:dataTable width="100%" value="#{gsDirigent.lesPersonnes}"   var="tt" >
                      <rich:column width="20%">
                          <f:facet name="header">
                              <h:outputText value="Nom et prenom"/>
                          </f:facet>
                          <h:outputText value="#{tt.nomPrenom}"/>
                      </rich:column>
                         <rich:column width="80%">
                          <f:facet name="header">
                              <h:outputText value="Informations"/>
                          </f:facet>
                             <h:panelGrid columns="2">
                                 <h:outputText value="Telephone: "/>
                                 <h:outputText value="#{tt.phone}"/>
                                 <h:outputText value="email: "/>
                                 <h:outputText value="#{tt.email}"/>
                                 <h:outputText value="Adresse: "/>
                                 <h:outputText value="#{tt.adresse}"/>
                                 <h:outputText value="Date de naissance: "/>
                                 <h:outputText value="#{tt.dns}"/>
                             </h:panelGrid>
                         
                      </rich:column>

                  </rich:dataTable>
                            <rich:spacer height="20px"/>
                            
                 </a4j:outputPanel>               
                                     
                  
               </a4j:outputPanel>
          
      </h:panelGrid>
    
   </h:panelGrid>
</h:form>
</rich:panel>

            </ui:define>

        </ui:composition>
        
    </body>
</html>

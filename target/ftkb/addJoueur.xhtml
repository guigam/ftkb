<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:rich="http://richfaces.org/rich">

    
    <body>
        
        <ui:composition template="./template.xhtml">
  

            <ui:define name="content">
                <h:form>
                  <rich:panel>


                      <h:panelGrid columns="2">
                         <h:outputText value="Ajouter un Joueur" styleClass="title1"/>
                         <h:commandLink value="Ajouter" action="#{redirect.redirect}">
                             <f:param name="outcome" value="ajoutJoueurPersonne"/>
                         </h:commandLink>
                      </h:panelGrid>
                    <rich:separator width="100%" height="7px"/>
                    <rich:spacer height="10px"/>

<h:panelGrid width="100%" >
        <h:panelGrid  width="100%">
            <h:panelGrid columns="2" >
          <h:panelGrid columns="2">

          <h:outputText value="Grade"/>
          <rich:comboBox value="#{gestionDesJoueurs.lejoueur.grade}">
              <f:selectItem itemValue="Noir"/>
              <f:selectItem itemValue="Marron"/>
              <f:selectItem itemValue="Blanc"/>
              <f:selectItem itemValue="Rouge"/>
          </rich:comboBox>
          <h:outputText value="Date Debut"/>
          <rich:calendar value="#{gestionDesJoueurs.lejoueur.dateDebut}" />
          <h:outputText value="Numero Licence"/>
          <h:inputText value="#{gestionDesJoueurs.lejoueur.licence}"/>
          <h:outputText value="C.I.N"/>
          <h:inputText value="#{gestionDesJoueurs.monPersonne.cin}"/>
          </h:panelGrid>
                <a4j:commandButton value ="Reccherche" action="#{gestionDesJoueurs.listePersonneByCIN}" reRender="tt" style="margin-bottom: 0px" />
          </h:panelGrid>

              <a4j:outputPanel id="tt">

                  <a4j:outputPanel id="rien" rendered="${empty gestionDesJoueurs.lesPersonnes}">
                            <h:outputText value="Aucun Resultat" style="font-size:14;font-weight:bold;" />
                            <rich:separator height="5"/>
                  </a4j:outputPanel>



                  <a4j:outputPanel rendered="${not empty gestionDesJoueurs.lesPersonnes}"  id="tt2">
                      <h:outputText value=" Resultat" style="font-size:14;font-weight:bold;" />
                            <rich:separator height="5"/>
                            
                            <h:outputLink value="#"  id="linkk" >
                                Specialité
                                <rich:componentControl for="panel" attachTo="linkk" operation="show" event="onclick"/>
                            </h:outputLink>
                            <rich:spacer height="10"/>
                            <rich:dataTable width="100%" value="#{gestionDesJoueurs.lesPersonnes}"   var="tt" >
                      <rich:column width="20%">
                          <f:facet name="header">
                              <h:outputText value="Nom et prenom"/>
                          </f:facet>
                          <h:outputText value="#{tt.nomPrenom}"/>
                      </rich:column>
                         <rich:column width="80%">
                          <f:facet name="header">
                              <h:outputText value="Informations"/>
                          </f:facet>
                             <h:panelGrid columns="2">
                                 <h:outputText value="Telephone: "/>
                                 <h:outputText value="#{tt.phone}"/>
                                 <h:outputText value="email: "/>
                                 <h:outputText value="#{tt.email}"/>
                                 <h:outputText value="Adresse: "/>
                                 <h:outputText value="#{tt.adresse}"/>
                                 <h:outputText value="Date de naissance: "/>
                                 <h:outputText value="#{tt.dns}"/>
                             </h:panelGrid>

                      </rich:column>

                  </rich:dataTable>
                            <rich:spacer height="20px"/>
                            <h:commandButton value="valider" action="#{gestionDesJoueurs.saveJoueurs}"/>
                 </a4j:outputPanel>


               </a4j:outputPanel>

      </h:panelGrid>
   
</h:panelGrid>
                    <rich:modalPanel id="panel" autosized="false" resizeable="true" width="450" height="250" >
                        <f:facet name="header">
                            <h:panelGroup>
                                <h:outputText value="Specialité"></h:outputText>
                            </h:panelGroup>
                        </f:facet>
                        <f:facet name="controls">
                            <h:panelGroup>
                                <rich:componentControl for="panel" attachTo="hidelink" operation="hide" event="onclick"/>
                            </h:panelGroup>
                        </f:facet>
                        <rich:panel>
                     <h:outputText value="Specialité" style="font-size:14;font-weight:bold;" />
                     <rich:separator height="5"/>
                     <rich:spacer height="10px"/>
                     <rich:pickList converter="spec" >
                         <f:selectItems value="#{spec.listSpecialiteItem}"/>
                     </rich:pickList>
                        </rich:panel>                       
                    </rich:modalPanel>
                    
</rich:panel>
</h:form>
            </ui:define>

        </ui:composition>
        
    </body>
</html>
